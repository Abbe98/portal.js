query BrowsePage(
  $identifier: String!,
  $locale: String!,
  $preview: Boolean = false
) {
  browsePageCollection(preview: $preview, locale: $locale, where: { identifier: $identifier }, limit: 1) {
    items {
      sys {
        id
      }
      identifier
      name
      headline
      description
      primaryImageOfPage {
        sys {
          id
        }
        name
        creator
        provider
        license
        url
        image {
          sys {
            id
          }
          url
          contentType
        }
      }
      image {
        url
        contentType
      }
      # TODO: enforce this limit in CTF content model
      hasPartCollection(limit: 10) {
        items {
          __typename
          ... on CardGroup {
            sys {
              id
            }
            headline
          	text
            # TODO: reduce this limit in CTF content model?
            hasPartCollection(limit: 60) {
              items {
                __typename
                ... on AutomatedEntityCard {
                  sys {
                    id
                  }
                  name
                  identifier
                  description
                  slug
                  entityImage: image
                }
                ... on AutomatedRecordCard {
                  sys {
                    id
                  }
                  identifier
                  encoding
                }
                ... on CuratedCard {
                  sys {
                    id
                  }
                  name
                  description
                  url
                  image {
                    sys {
                      id
                    }
                    url
                    contentType
                  }
                }
              }
            }
            moreButton {
              sys {
                id
              }
              url
              text
            }
        	}
          ... on LatestCardGroup {
            sys {
              id
            }
            genre
          }
          ... on ContentTypeRichText {
            sys {
              id
            }
            text
          }
        }
      }
    }
  }
}
